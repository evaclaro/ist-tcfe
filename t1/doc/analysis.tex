\section{Theoretical Analysis}
\label{sec:analysis}

\hspace{0,5cm} In this section, the circuit shown in Figure~\ref{fig:circuito} is analysed theoretically, in terms of it's node voltages and mesh currents.

\subsection{Mesh Analysis Method}

\hspace{0,5cm} ESCREVER AQUI ALGUMA COISA

Starting by number the nodes arbitrarily, assigning current names and directions to all branches also arbitrarily and defining one node as ground (GND) a system of equations obtained applying the Kirchhoff Current Law (KCL)to each mesh can be written as 

\begin{equation}
\begin{bmatrix} 
R_1 + R_3 + R_4 & -R_3 & -R_4 \\ 
-R_4 & 0 & R_4 + R_6 + R_7 - K_C\\
-K_B R_3 & K_B R_3 - 1 & 0
\end{bmatrix} 
\begin{bmatrix} 
I_A \\ 
I_B \\ 
I_C
\end{bmatrix} =
\begin{bmatrix} 
-V_A \\ 
0 \\ 
0
\end{bmatrix}
\end{equation}

It was used 3 equations (4 meshes - 1 = 3 linearly independent equations)

It's important to notice that D loop is independent from the restant ones so we don't need to determine the current $I_D$ as it is given on the inicial data.
  
After solving the system with Octave tools we get the Table~\ref{tab:mesh} results.

\begin{table}[h]
  \centering
  \begin{tabular}{|l|r|}
    \hline    
    {\bf Name} & {\bf Value [A or V]} \\ \hline
    \input{../mat/octaveI_tab}
  \end{tabular}
  \caption{ Results obtained by mesh analysis method with octave tool}
  \label{tab:mesh}
\end{table}


\subsection{Nodal Analysis Method}

\hspace{0,5cm} The Nodal Analysis Method is another general procedure analysing circuits using node voltages as the circuit variables. 

To find the nodal voltages we chose 7 equations (8 nodes - 1 = 7 linearly independent equations) that comprise:
\begin{itemize}
\item  KCL in nodes not connected to voltage sources;
\item Additional equations for nodes related by voltage sources.
\end{itemize}


The system of equations tha will be solved is:

\begin{equation}
\begin{bmatrix} 
1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\
-G_1 - G_2 - G_3 & G_1 & G_2 & G_3 & 0 & 0 & 0 & 0 \\
K_b + G_2 & 0 & -G_2 & -K_b & 0 & 0 & 0 & 0 \\
0 & 1 & 0 & 0 & -1 & 0 & 0 & 0 \\
-K_b & 0 & 0 & K_b + G_5 & 0 & -G_5 & 0 & 0 \\
0 & 0 & 0 & 0 & G_6 & 0 & -G_6 - G_7 & G_7 \\
0 & 0 & 0 & 1 & -K_c G_6 & 0 & K_c G_6 & -1 \\
G_3 & 0 & 0 & -G_4 - G_3 - G_5 & G_4 & G_5 & G_7 & -G_7
\end{bmatrix} 
\begin{bmatrix} 
V_0 \\ 
V_1 \\ 
V_2 \\ 
V_3 \\ 
V_4 \\ 
V_5 \\ 
V_6 \\ 
V_7
\end{bmatrix} =
\begin{bmatrix} 
0\\ 
0 \\ 
0 \\ 
V_a \\
-I_d \\ 
0 \\ 
0 \\ 
I_d
\end{bmatrix}
\end{equation}


After solving the system with Octave tools we get the Table~\ref{tab:nodal} results.

\begin{table}[h]
  \centering
  \begin{tabular}{|l|r|}
    \hline    
    {\bf Name} & {\bf Value [A or V]} \\ \hline
    \input{../mat/octavev_tab}
  \end{tabular}
  \caption{Results obtained by nodal analysis method with octave tool}
  \label{tab:nodal}
\end{table}

\lipsum[1-1]


